<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FIRO: TERMINAL</title>
<style>
body {
  background: #000;
  color: #fff;
  font-family: "Lucida Console", Monaco, monospace;
  font-size: 15px;
  line-height: 1.2;  
  margin: 0;
  padding: 20px;
}

.terminal {
  max-width: 80ch;
  width: 100%;
  margin: 0;
}

.ascii-art {
  color: #9B1C2E;
  font-size: 12px;
  line-height: 1.1;  
  margin: 5px 0 5px 0; 
  white-space: pre;
}

.header-red {
  color: #9B1C2E;
  font-size: 23px;  
  letter-spacing: 2px;
  margin: 5px 0 2px 0;
}

.subheader {
  color: #9B1C2E;
  font-size: 15px;  
  margin: 15px 0 5px 0;
  text-transform: uppercase;
}

.row {
  display: flex;
  justify-content: space-between;
  margin: 1px 0;  
  max-width: 80ch;
  line-height: 1.2;
}

.label {
  color: #bbb;
  width: 15ch;
}

.value {
  color: #fff;
}

.positive { color: #198652; }
.negative { color: #9B1C2E; }

.footer {
  margin-top: 25px;
  padding-top: 5px;
  color: #fff;
  font-size: 15px;
  line-height: 1.2;
}

a, a:visited, a:hover, a:active {
  color: #9B1C2E;
  text-decoration: none;
}
a:hover {
  text-decoration: underline;
}

.blink {
  animation: blink 1s step-end infinite;
}

@keyframes blink {
  from, to { opacity: 1; }
  50% { opacity: 0; }
}

.version {
  color: #777;
  font-size: 15px;
  margin-top: 0px;
  margin-bottom: 5px;
  line-height: 1.2;
}

.grid-2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 15px;
  margin: 10px 0 5px 0;  
  max-width: 80ch;
}

@media (max-width: 600px) {
  .grid-2 {
    grid-template-columns: 1fr;
    gap: 15px;
  }
}

.data-block {
  margin: 5px 0;  
}

.small {
  color: #777;
  font-size: 15px;
  margin-top: 2px;
  line-height: 1.2;
}

.link-block {
  margin: 0px 0;  
  line-height: 1.2;
}

.link-label {
  color: #999;
  font-size: 15px;
  margin-bottom: 0px;
  margin-top: 20px;
  line-height: 1.2;
}
</style>
</head>
<body>

<div class="terminal">

<!-- HEADER ROJO -->
<div class="ascii-art">
  ███████╗██╗██████╗  ██████╗     ███╗   ██╗ ██████╗ ██████╗ ███████╗
  ██╔════╝██║██╔══██╗██╔═══██╗    ████╗  ██║██╔═══██╗██╔══██╗██╔════╝
  █████╗  ██║██████╔╝██║   ██║    ██╔██╗ ██║██║   ██║██║  ██║█████╗  
  ██╔══╝  ██║██╔══██╗██║   ██║    ██║╚██╗██║██║   ██║██║  ██║██╔══╝  
  ██║     ██║██║  ██║╚██████╔╝    ██║ ╚████║╚██████╔╝██████╔╝███████╗
  ╚═╝     ╚═╝╚═╝  ╚═╝ ╚═════╝     ╚═╝  ╚═══╝ ╚═════╝ ╚═════╝ ╚══════╝
</div>
<div class="header-red">TERMINAL NODE MONITOR</div>
<div class="version">[SISTEMA]: NODO PROPIO · ACTUALIZACION CADA 60s · <span class="blink">▶</span> ONLINE</div>

<!-- NODO STATUS -->
<div class="subheader">FIRO NODE · STATUS</div>
<div id="node-status" class="data-block">
  <div class="row"><span class="label">VERSION</span><span class="value" id="node-version">---</span></div>
  <div class="row"><span class="label">ESTADO</span><span class="value" id="node-state">---</span></div>
  <div class="row"><span class="label">BLOQUES</span><span class="value" id="node-blocks">---</span></div>
  <div class="row"><span class="label">CONEXIONES</span><span class="value" id="node-connections">---</span></div>
  <div class="row"><span class="label">MEMPOOL</span><span class="value" id="node-mempool">---</span></div>
  <div class="row"><span class="label">UPTIME</span><span class="value" id="node-uptime">---</span></div>
</div>

<!-- NODO NETWORK -->
<div class="subheader">FIRO NODE · NETWORK</div>
<div id="node-network" class="data-block">
  <div class="row"><span class="label">DIFICULTAD</span><span class="value" id="node-difficulty">---</span></div>
  <div class="row"><span class="label">HASHRATE</span><span class="value" id="node-hashrate">---</span></div>
  <div class="row"><span class="label">CHAIN</span><span class="value" id="node-chain">---</span></div>
  <div class="row"><span class="label">BEST BLOCK</span><span class="value" id="node-bestblock">---</span></div>
  <div class="row"><span class="label">TIMESTAMP</span><span class="value" id="node-timestamp">---</span></div>
</div>

<!-- MARKET DATA -->
<div class="subheader">FIRO MARKET DATA</div>
<div id="market-content" class="data-block">
  <div class="row"><span class="label">PRECIO USD</span><span class="value">---</span></div>
  <div class="row"><span class="label">24h %</span><span class="value">---</span></div>
  <div class="row"><span class="label">7d %</span><span class="value">---</span></div>
  <div class="row"><span class="label">MARKET CAP</span><span class="value">---</span></div>
  <div class="row"><span class="label">VOLUMEN 24h</span><span class="value">---</span></div>
</div>
<div class="small" id="market-updated">actualizando...</div>

<!-- LIGHTWALLET -->
<div class="subheader">SERVIDOR LIGHTWALLET</div>
<div id="lightwallet" class="data-block">
  <div class="row"><span class="label">SERVIDOR</span><span class="value">carover0.xyz</span></div>
  <div class="row"><span class="label">PUERTO</span><span class="value">50002</span></div>
  <div class="row"><span class="label">TLS</span><span class="value positive">HABILITADO</span></div>
  <div class="row"><span class="negative">Conecta tu wallet a este servidor para contribuir a la descentralización de FIRO.</span></div>
</div>

<!-- LINKS -->
<div class="grid-2">
  <div>
    <div class="link-label">API PUBLICA</div>
    <div class="link-block"><a href="https://carover0.xyz/api/firo.json" target="_blank">carover0.xyz/api/firo.json</a></div>
  </div>
  <div>
    <div class="link-label">EXPLORADORES</div>
    <div class="link-block"><a href="https://t.me/firoexplorer_bot" target="_blank">@firoexplorer_bot</a></div>
    <div class="link-block"><a href="https://carover0.github.io/pagina/firo-explorer.html">carover0.github.io/firo-explorer</a></div>
  </div>
</div>
<!-- FOOTER -->
<div class="footer">
  ════════════════════════════════════════════════════════════════════════════════<br>
  © 2025 Creada con ♥ por cΔrovΣr0 · apoya: carover0.firo
</div>

</div>


<script>
const NODE_JSON_URL = "https://carover0.xyz/api/firo.json";
const COINGECKO_API = "https://api.coingecko.com/api/v3/coins/zcoin?localization=false&market_data=true";

function formatUptime(seconds) {
  seconds = parseInt(seconds);
  const days = Math.floor(seconds / (60 * 60 * 24));
  seconds %= (60 * 60 * 24);
  const hours = Math.floor(seconds / (60 * 60));
  seconds %= (60 * 60);
  const minutes = Math.floor(seconds / 60);
  return `${days}d ${hours}h ${minutes}min`;
}

function formatHash(hash) {
  if (!hash) return 'N/A';
  return hash.substring(0, 15) + '...' + hash.substring(hash.length - 7);
}

function displayNodeData(data) {
  const uptimeSec = data.node?.uptime_seconds;
  const isSynced = data.health?.synced ? "SYNCED" : "SYNCING";
  const syncClass = data.health?.synced ? "positive" : "negative";
  const connections = data.network?.connections;
  const inbound = data.peers?.inbound;
  const outbound = data.peers?.outbound;
  const version = data.network?.subversion || 'N/A';
  const datetime = data.datetime || '';
  const timePart = datetime.split(' ')[1] || '';
  
  document.getElementById('node-version').innerText = version;
  document.getElementById('node-state').innerText = isSynced;
  document.getElementById('node-state').className = `value ${syncClass}`;
  document.getElementById('node-blocks').innerText = Number(data.blockchain?.blocks).toLocaleString();
  document.getElementById('node-connections').innerText = `${connections} (${inbound} IN · ${outbound} OUT)`;
  document.getElementById('node-mempool').innerText = `${data.mempool?.txcount} TX`;
  document.getElementById('node-uptime').innerText = formatUptime(uptimeSec);
  document.getElementById('node-difficulty').innerText = Number(data.blockchain?.difficulty).toFixed(2);
  document.getElementById('node-hashrate').innerText = (Number(data.mining?.networkhashps)/1e9).toFixed(2) + ' GH/s';
  document.getElementById('node-chain').innerText = data.blockchain?.chain;
  document.getElementById('node-bestblock').innerText = formatHash(data.blockchain?.bestblockhash);
  document.getElementById('node-timestamp').innerHTML = `${data.timestamp} (${timePart} UTC)`;
}

async function fetchMarketData() {
  try {
    const res = await fetch(COINGECKO_API);
    const d = await res.json();
    const price = d.market_data.current_price.usd;
    const change24 = d.market_data.price_change_percentage_24h;
    const change7d = d.market_data.price_change_percentage_7d;
    const marketCap = d.market_data.market_cap.usd;
    const volume24 = d.market_data.total_volume.usd;

    const change24Cls = change24 >= 0 ? "positive" : "negative";
    const change7dCls = change7d >= 0 ? "positive" : "negative";
    const change24Sign = change24 >= 0 ? "+" : "";
    const change7dSign = change7d >= 0 ? "+" : "";

    document.getElementById("market-content").innerHTML = `
      <div class="row"><span class="label">PRECIO USD</span><span class="value">$${price.toFixed(4)}</span></div>
      <div class="row"><span class="label">24h %</span><span class="value ${change24Cls}">${change24Sign}${change24.toFixed(2)}%</span></div>
      <div class="row"><span class="label">7d %</span><span class="value ${change7dCls}">${change7dSign}${change7d.toFixed(2)}%</span></div>
      <div class="row"><span class="label">MARKET CAP</span><span class="value">$${(marketCap/1e6).toFixed(2)}M</span></div>
      <div class="row"><span class="label">VOLUMEN 24h</span><span class="value">$${(volume24/1e6).toFixed(2)}M</span></div>
    `;
    document.getElementById("market-updated").innerHTML = `actualizado: ${new Date().toLocaleTimeString()}`;
  } catch(err) {
    document.getElementById("market-content").innerHTML = '<div><span class="label negative">ERROR DE MERCADO</span></div>';
  }
}

async function fetchNodeData() {
  try {
    const response = await fetch(NODE_JSON_URL);
    if (!response.ok) throw new Error(`HTTP ${response.status}`);
    const jsonData = await response.json();
    displayNodeData(jsonData);
  } catch(err) {
    console.error("Error de conexion:", err);
    document.getElementById('node-version').innerText = "ERROR DE CONEXIÓN";
  }
}

fetchNodeData();
fetchMarketData();

setInterval(fetchNodeData, 60000);
setInterval(fetchMarketData, 60000);
</script>

</body>
</html>
