<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Void.BBS Launcher</title>
  <style>
    body {
      background: black;
      color: white;
      font-family: 'Lucida Console', monospace;
      font-size: 17px;
      margin: 0;
      padding: 20px;
      white-space: pre;
      cursor: none;
      line-height: 1.4em;
    }

    #cursor {
      display: inline-block;
      width: 8px;
      height: 15px;
      background: white;
      vertical-align: bottom;
      margin-left: 2px;
      animation: blink 1s step-start infinite;
    }

    @keyframes blink {
      50% { opacity: 0; }
    }
  </style>
</head>
<body>
<pre id="txt"></pre>

<script>
const textIntro = `THEVOID BBS [v1.02]
(c) 1994 Sysop ******

Sistema sin diseño responsivo.
No compatible con dispositivos móviles.

Conectando con el host...
`;

const pre = document.getElementById("txt");
let i = 0;

function typeIntro() {
  if (i < textIntro.length) {
    pre.innerHTML = textIntro.slice(0, i).replace(/\n/g, "<br>") + '<span id="cursor"></span>';
    i++;
    setTimeout(typeIntro, 30);
  } else {
    setTimeout(startProgressBar, 500);
  }
}

function startProgressBar() {
  let bar = "";
  const total = 30; // longitud de la barra
  let progress = 0;

  const interval = setInterval(() => {
    progress++;
    bar = "#".repeat(progress) + "-".repeat(total - progress);
    pre.innerHTML = textIntro.replace(/\n/g, "<br>") +
                    `[${bar}] ${Math.floor((progress / total) * 100)}%<span id="cursor"></span>`;
    if (progress >= total) {
      clearInterval(interval);
      setTimeout(() => {
        pre.innerHTML = textIntro.replace(/\n/g, "<br>") +
                        `[##############################] 100%<br><br>` +
                        "Presione ENTER para continuar<span id='cursor'></span>";
        window.addEventListener("keydown", openBBS);
      }, 500);
    }
  }, 80); // velocidad de la barra
}

function openBBS(e) {
  if (e.key !== "Enter") return;

  pre.innerHTML = "";
  window.removeEventListener("keydown", openBBS);

  window.open(
    "bbs.html",
    "VoidBBS",
    'width=840,height=875,resizable=no,scrollbars=no,toolbar=no,location=no,status=no,menubar=no'
  );
}

typeIntro();
</script>
</body>
</html>
