<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Captcha Terminal</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>
<style>
body {
  background: #000;
  color: #0f0;
  font-family: monospace;
  font-size: 18px;
  padding: 20px;
}
.box {
  border: 2px solid #0f0;
  padding: 20px;
  display: inline-block;
  border-radius: 5px;
}
input {
  background: #111;
  color: #0f0;
  border: 1px solid #0f0;
  font-family: monospace;
  font-size: 18px;
  padding: 5px;
  width: 80px;
  text-align: center;
}
button {
  margin-top: 10px;
  background: #0f0;
  color: #000;
  border: none;
  font-family: monospace;
  font-size: 16px;
  padding: 5px 10px;
  cursor: pointer;
}
</style>
</head>
<body>
<div class="box">
<h3>Terminal Verification</h3>
<p id="op"></p>
<input id="resp" type="number" placeholder="Answer" />
<br>
<button id="sendBtn">Send 1</button>

<script>
Telegram.WebApp.ready(); // inicializar WebApp

let a = Math.floor(Math.random() * 10) + 1;
let b = Math.floor(Math.random() * 10) + 1;
document.getElementById("op").innerText = `Compute: ${a} + ${b} = ?`;

document.getElementById("sendBtn").onclick = () => {
    const resp = document.getElementById("resp").value;
    if (!resp) {
        alert("Enter a number");
        return;
    }

    const payload = { a: a, b: b, resp: resp };

    console.log("DEBUG: enviando al bot", payload); // Esto se ve en DevTools si quieres
    Telegram.WebApp.sendData(JSON.stringify(payload));

    Telegram.WebApp.close();
};
</script>

  
</script>
</body>
</html>
